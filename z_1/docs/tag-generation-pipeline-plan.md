# Tag Generation Pipeline Plan for Zeno KB

## Overview

This plan outlines the steps to implement a robust, AI-powered tag generation pipeline for Zeno KB. The goal is to ensure all tools/assets have consistent, meaningful tags from a controlled vocabulary, generated using OpenAI and integrated into the data pipeline and UI.

---

## 1. Hide Tags in the UI (Immediate Fix)

- Update all UI components (e.g., `ToolCard.tsx`) to hide or safely ignore the `tags` field if it is missing.
- Prevents runtime errors while the new tagging pipeline is being developed.

---

## 2. Define a Tag Taxonomy Schema

- **Goal:** Limit the tagset to a controlled vocabulary for consistency and searchability.
- **Actions:**
  - Analyze existing data and consult stakeholders to create a list of allowed tags (e.g., `ai`, `audience`, `insights`, `marketing`, etc.).
  - Store this as a JSON file: `z_1/data/tag_taxonomy.json`.
  - Example:
    ```json
    {
      "tags": [
        "ai",
        "audience",
        "insights",
        "marketing",
        "media",
        "technology",
        "finance",
        "travel",
        "workplace"
      ]
    }
    ```
  - Use this file to filter or validate tags generated by the AI.

---

## 3. Add Tag Generation to the Data Pipeline

- **Where:** In the migration/conversion pipeline, after mapping each row, before saving the final JSON.
- **How:**
  1. For each tool, send relevant fields (title, description) to OpenAI via API.
  2. Prompt the model to return a list of tags from the allowed tagset that best describe the tool.
  3. Filter the modelâ€™s output to only include tags present in the taxonomy.
  4. Add the resulting tags array to the tool object.
- **Prompt Example:**
  > Given the following allowed tags: [ai, audience, insights, marketing, ...]
  > And the following tool description: "Explore the youngest, most digitally immersed generation..."
  > Return a list of up to 5 tags from the allowed set that best describe this tool.

---

## 4. Update the Schema

- Add `tags` as an optional or required array field in `schema.json`:
  ```json
  {
    "name": "tags",
    "type": "array",
    "required": false,
    "description": "List of tags from the controlled vocabulary."
  }
  ```

---

## 5. Regenerate Data and Test

- Run the updated pipeline to generate a new `data.json` with tags.
- Restart the app and verify that tags now appear in the UI, and only allowed tags are used.

---

## 6. (Optional) Add Manual Tag Editing in the UI

- Allow admins/curators to edit tags for each tool, restricted to the allowed tagset.

---

## Summary Table

| Step               | Action/Goal                                             |
| ------------------ | ------------------------------------------------------- |
| Hide tags in UI    | Prevent errors while tags are missing                   |
| Define taxonomy    | Create and use a controlled tag vocabulary              |
| Add tag generation | Use OpenAI to generate tags per row, filter by taxonomy |
| Update schema      | Add `tags` array field                                  |
| Regenerate data    | Run pipeline, verify tags in UI                         |
| (Optional) UI edit | Allow manual tag editing, restricted to taxonomy        |

---

## Next Steps

1. Draft and approve the tag taxonomy with stakeholders.
2. Implement the OpenAI tag generation script and integrate it into the pipeline.
3. Update the schema and UI as described.
4. Test the full flow and iterate as needed.
